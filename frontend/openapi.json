{
  "openapi": "3.1.0",
  "info": {
    "title": "Profo 房产数据中心",
    "description": "轻量级、本地化、高性能的房产数据仓库系统",
    "version": "0.1.0"
  },
  "paths": {
    "/": {
      "get": {
        "summary": "Root",
        "description": "根路径 - 健康检查",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "健康检查端点",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    },
    "/api/upload/csv": {
      "post": {
        "tags": [
          "upload"
        ],
        "summary": "Upload Csv",
        "operationId": "upload_csv_api_upload_csv_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_csv_api_upload_csv_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadResult"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/upload/download/{filename}": {
      "get": {
        "tags": [
          "upload"
        ],
        "summary": "Download Failed Records",
        "operationId": "download_failed_records_api_upload_download__filename__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "filename",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filename"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/push": {
      "post": {
        "tags": [
          "push"
        ],
        "summary": "Push Properties",
        "description": "JSON 数据推送接口\n\n接收 JSON 数组，批量导入房源数据\n\nArgs:\n    properties: 房源数据列表（原始字典）\n    db: 数据库会话\n\nReturns:\n    PushResult: 推送结果统计\n\nRaises:\n    HTTPException: 数据验证失败或处理失败",
        "operationId": "push_properties_api_push_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array",
                "title": "Properties"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PushResult"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/properties": {
      "get": {
        "tags": [
          "properties"
        ],
        "summary": "Get Properties",
        "description": "查询房源列表\n\n支持多维度筛选、排序和分页\n\nArgs:\n    status: 房源状态筛选\n    community_name: 小区名称模糊搜索\n    min_price: 最低价格\n    max_price: 最高价格\n    min_area: 最小面积\n    max_area: 最大面积\n    rooms: 室数量列表（逗号分隔）\n    sort_by: 排序字段\n    sort_order: 排序方向\n    page: 页码\n    page_size: 每页数量\n    db: 数据库会话\n\nReturns:\n    PaginatedPropertyResponse: 分页查询结果",
        "operationId": "get_properties_api_properties_get",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "房源状态: 在售 | 成交",
              "title": "Status"
            },
            "description": "房源状态: 在售 | 成交"
          },
          {
            "name": "community_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "小区名称（模糊搜索）",
              "title": "Community Name"
            },
            "description": "小区名称（模糊搜索）"
          },
          {
            "name": "districts",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "行政区，逗号分隔，例如: 徐汇,静安",
              "title": "Districts"
            },
            "description": "行政区，逗号分隔，例如: 徐汇,静安"
          },
          {
            "name": "business_circles",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "商圈，逗号分隔，例如: 五角场,中关村",
              "title": "Business Circles"
            },
            "description": "商圈，逗号分隔，例如: 五角场,中关村"
          },
          {
            "name": "orientations",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "朝向关键词，逗号分隔，例如: 南,东南",
              "title": "Orientations"
            },
            "description": "朝向关键词，逗号分隔，例如: 南,东南"
          },
          {
            "name": "floor_levels",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "楼层级别，逗号分隔: 低楼层,中楼层,高楼层",
              "title": "Floor Levels"
            },
            "description": "楼层级别，逗号分隔: 低楼层,中楼层,高楼层"
          },
          {
            "name": "min_price",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "最低价格（万）",
              "title": "Min Price"
            },
            "description": "最低价格（万）"
          },
          {
            "name": "max_price",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "最高价格（万）",
              "title": "Max Price"
            },
            "description": "最高价格（万）"
          },
          {
            "name": "min_area",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "最小面积（㎡）",
              "title": "Min Area"
            },
            "description": "最小面积（㎡）"
          },
          {
            "name": "max_area",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "最大面积（㎡）",
              "title": "Max Area"
            },
            "description": "最大面积（㎡）"
          },
          {
            "name": "rooms",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "室数量，逗号分隔，例如: 1,2,3",
              "title": "Rooms"
            },
            "description": "室数量，逗号分隔，例如: 1,2,3"
          },
          {
            "name": "rooms_gte",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "最少室数量，例如: 5 表示5室以上",
              "title": "Rooms Gte"
            },
            "description": "最少室数量，例如: 5 表示5室以上"
          },
          {
            "name": "sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "排序字段",
              "default": "updated_at",
              "title": "Sort By"
            },
            "description": "排序字段"
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "排序方向: asc | desc",
              "default": "desc",
              "title": "Sort Order"
            },
            "description": "排序方向: asc | desc"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "页码",
              "default": 1,
              "title": "Page"
            },
            "description": "页码"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "每页数量",
              "default": 50,
              "title": "Page Size"
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedPropertyResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/properties/{id}": {
      "get": {
        "tags": [
          "properties"
        ],
        "summary": "Get Property Detail",
        "operationId": "get_property_detail_api_properties__id__get",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PropertyDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/properties/export": {
      "get": {
        "tags": [
          "properties"
        ],
        "summary": "Export Properties",
        "description": "导出房源数据为 CSV 文件\n\n使用与查询接口相同的筛选和排序参数，但移除分页限制，导出所有匹配的记录\n\nArgs:\n    status: 房源状态筛选\n    community_name: 小区名称模糊搜索\n    min_price: 最低价格\n    max_price: 最高价格\n    min_area: 最小面积\n    max_area: 最大面积\n    rooms: 室数量列表（逗号分隔）\n    sort_by: 排序字段\n    sort_order: 排序方向\n    db: 数据库会话\n\nReturns:\n    StreamingResponse: CSV 文件流",
        "operationId": "export_properties_api_properties_export_get",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "房源状态: 在售 | 成交",
              "title": "Status"
            },
            "description": "房源状态: 在售 | 成交"
          },
          {
            "name": "community_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "小区名称（模糊搜索）",
              "title": "Community Name"
            },
            "description": "小区名称（模糊搜索）"
          },
          {
            "name": "districts",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "行政区，逗号分隔",
              "title": "Districts"
            },
            "description": "行政区，逗号分隔"
          },
          {
            "name": "business_circles",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "商圈，逗号分隔",
              "title": "Business Circles"
            },
            "description": "商圈，逗号分隔"
          },
          {
            "name": "orientations",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "朝向关键词，逗号分隔",
              "title": "Orientations"
            },
            "description": "朝向关键词，逗号分隔"
          },
          {
            "name": "floor_levels",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "楼层级别，逗号分隔",
              "title": "Floor Levels"
            },
            "description": "楼层级别，逗号分隔"
          },
          {
            "name": "min_price",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "最低价格（万）",
              "title": "Min Price"
            },
            "description": "最低价格（万）"
          },
          {
            "name": "max_price",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "最高价格（万）",
              "title": "Max Price"
            },
            "description": "最高价格（万）"
          },
          {
            "name": "min_area",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "最小面积（㎡）",
              "title": "Min Area"
            },
            "description": "最小面积（㎡）"
          },
          {
            "name": "max_area",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "最大面积（㎡）",
              "title": "Max Area"
            },
            "description": "最大面积（㎡）"
          },
          {
            "name": "rooms",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "室数量，逗号分隔，例如: 1,2,3",
              "title": "Rooms"
            },
            "description": "室数量，逗号分隔，例如: 1,2,3"
          },
          {
            "name": "rooms_gte",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "最少室数量",
              "title": "Rooms Gte"
            },
            "description": "最少室数量"
          },
          {
            "name": "sort_by",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "排序字段",
              "default": "updated_at",
              "title": "Sort By"
            },
            "description": "排序字段"
          },
          {
            "name": "sort_order",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "排序方向: asc | desc",
              "default": "desc",
              "title": "Sort Order"
            },
            "description": "排序方向: asc | desc"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/communities": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Communities",
        "description": "查询小区列表\n\n支持按名称搜索和分页\n\nArgs:\n    search: 小区名称搜索关键词\n    page: 页码\n    page_size: 每页数量\n    db: 数据库会话\n\nReturns:\n    CommunityListResponse: 小区列表响应",
        "operationId": "get_communities_api_admin_communities_get",
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "小区名称搜索（模糊匹配）",
              "title": "Search"
            },
            "description": "小区名称搜索（模糊匹配）"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "页码",
              "default": 1,
              "title": "Page"
            },
            "description": "页码"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "每页数量",
              "default": 50,
              "title": "Page Size"
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/dictionaries": {
      "get": {
        "tags": [
          "admin"
        ],
        "summary": "Get Dictionaries",
        "description": "返回行政区或商圈的去重列表，支持模糊搜索",
        "operationId": "get_dictionaries_api_admin_dictionaries_get",
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "字典类型: district | business_circle",
              "title": "Type"
            },
            "description": "字典类型: district | business_circle"
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "模糊搜索关键词",
              "title": "Search"
            },
            "description": "模糊搜索关键词"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "description": "返回数量上限",
              "default": 50,
              "title": "Limit"
            },
            "description": "返回数量上限"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/communities/merge": {
      "post": {
        "tags": [
          "admin"
        ],
        "summary": "Merge Communities",
        "description": "合并小区\n\n将多个小区合并到一个主小区，包括：\n1. 创建别名映射\n2. 更新所有关联房源\n3. 软删除被合并的小区\n\nArgs:\n    request: 合并请求（包含主小区ID和要合并的小区ID列表）\n    db: 数据库会话\n\nReturns:\n    CommunityMergeResponse: 合并结果",
        "operationId": "merge_communities_api_admin_communities_merge_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommunityMergeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityMergeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects": {
      "post": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Create Project",
        "description": "创建项目",
        "operationId": "create_project_api_v1_projects_post",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProjectCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Get Projects",
        "description": "获取项目列表",
        "operationId": "get_projects_api_v1_projects_get",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "项目状态筛选",
              "title": "Status"
            },
            "description": "项目状态筛选"
          },
          {
            "name": "community_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "小区名称筛选",
              "title": "Community Name"
            },
            "description": "小区名称筛选"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "页码",
              "default": 1,
              "title": "Page"
            },
            "description": "页码"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "每页数量",
              "default": 50,
              "title": "Page Size"
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/stats": {
      "get": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Get Project Stats",
        "description": "获取项目统计",
        "operationId": "get_project_stats_api_v1_projects_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/{project_id}": {
      "get": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Get Project",
        "description": "获取项目详情",
        "operationId": "get_project_api_v1_projects__project_id__get",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Update Project",
        "description": "更新项目信息（仅签约阶段可修改）",
        "operationId": "update_project_api_v1_projects__project_id__put",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProjectUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/{project_id}/status": {
      "put": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Update Project Status",
        "description": "更新项目状态",
        "operationId": "update_project_status_api_v1_projects__project_id__status_put",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StatusUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/{project_id}/complete": {
      "post": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Complete Project",
        "description": "完成项目（标记为已售）",
        "operationId": "complete_project_api_v1_projects__project_id__complete_post",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProjectCompleteRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/{project_id}/renovation": {
      "put": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Update Renovation Stage",
        "description": "更新改造阶段",
        "operationId": "update_renovation_stage_api_v1_projects__project_id__renovation_put",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RenovationUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/{project_id}/renovation/photos": {
      "post": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Upload Renovation Photo",
        "description": "上传改造阶段照片",
        "operationId": "upload_renovation_photo_api_v1_projects__project_id__renovation_photos_post",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          },
          {
            "name": "stage",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "改造阶段",
              "title": "Stage"
            },
            "description": "改造阶段"
          },
          {
            "name": "url",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "图片URL",
              "title": "Url"
            },
            "description": "图片URL"
          },
          {
            "name": "filename",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "文件名",
              "title": "Filename"
            },
            "description": "文件名"
          },
          {
            "name": "description",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "描述",
              "title": "Description"
            },
            "description": "描述"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Get Renovation Photos",
        "description": "获取改造阶段照片",
        "operationId": "get_renovation_photos_api_v1_projects__project_id__renovation_photos_get",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          },
          {
            "name": "stage",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "改造阶段筛选",
              "title": "Stage"
            },
            "description": "改造阶段筛选"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/{project_id}/selling/roles": {
      "put": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Update Sales Roles",
        "description": "更新销售角色",
        "operationId": "update_sales_roles_api_v1_projects__project_id__selling_roles_put",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SalesRolesUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/{project_id}/selling/viewings": {
      "post": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Create Viewing Record",
        "description": "创建带看记录",
        "operationId": "create_viewing_record_api_v1_projects__project_id__selling_viewings_post",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SalesRecordCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/{project_id}/selling/offers": {
      "post": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Create Offer Record",
        "description": "创建出价记录",
        "operationId": "create_offer_record_api_v1_projects__project_id__selling_offers_post",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SalesRecordCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/{project_id}/selling/negotiations": {
      "post": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Create Negotiation Record",
        "description": "创建面谈记录",
        "operationId": "create_negotiation_record_api_v1_projects__project_id__selling_negotiations_post",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SalesRecordCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/{project_id}/selling/records": {
      "get": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Get Sales Records",
        "description": "获取销售记录",
        "operationId": "get_sales_records_api_v1_projects__project_id__selling_records_get",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          },
          {
            "name": "record_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "记录类型筛选",
              "title": "Record Type"
            },
            "description": "记录类型筛选"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/{project_id}/selling/records/{record_id}": {
      "delete": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Delete Sales Record",
        "description": "删除销售记录",
        "operationId": "delete_sales_record_api_v1_projects__project_id__selling_records__record_id__delete",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          },
          {
            "name": "record_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "记录ID",
              "title": "Record Id"
            },
            "description": "记录ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/{project_id}/report": {
      "get": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Get Project Report",
        "description": "获取项目报告",
        "operationId": "get_project_report_api_v1_projects__project_id__report_get",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/export": {
      "get": {
        "tags": [
          "projects",
          "projects"
        ],
        "summary": "Export Projects",
        "description": "导出项目数据到Excel",
        "operationId": "export_projects_api_v1_projects_export_get",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "项目状态筛选",
              "title": "Status"
            },
            "description": "项目状态筛选"
          },
          {
            "name": "community_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "小区名称筛选",
              "title": "Community Name"
            },
            "description": "小区名称筛选"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/{project_id}/cashflow": {
      "post": {
        "tags": [
          "cashflow",
          "cashflow"
        ],
        "summary": "Create Cashflow Record",
        "description": "创建现金流记录",
        "operationId": "create_cashflow_record_api_v1_projects__project_id__cashflow_post",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CashFlowRecordCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "cashflow",
          "cashflow"
        ],
        "summary": "Get Project Cashflow",
        "description": "获取项目现金流明细和汇总",
        "operationId": "get_project_cashflow_api_v1_projects__project_id__cashflow_get",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/projects/{project_id}/cashflow/{record_id}": {
      "delete": {
        "tags": [
          "cashflow",
          "cashflow"
        ],
        "summary": "Delete Cashflow Record",
        "description": "删除现金流记录",
        "operationId": "delete_cashflow_record_api_v1_projects__project_id__cashflow__record_id__delete",
        "parameters": [
          {
            "name": "project_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "项目ID",
              "title": "Project Id"
            },
            "description": "项目ID"
          },
          {
            "name": "record_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "description": "记录ID",
              "title": "Record Id"
            },
            "description": "记录ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/files/upload": {
      "post": {
        "tags": [
          "files"
        ],
        "summary": "上传文件",
        "operationId": "upload_file_api_v1_files_upload_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_file_api_v1_files_upload_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/token": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Login For Access Token",
        "description": "OAuth2密码流登录，获取访问令牌\n\nArgs:\n    form_data: OAuth2密码表单数据\n    db: 数据库会话\n    \nReturns:\n    TokenResponse: 包含访问令牌、刷新令牌和用户信息的响应\n    \nRaises:\n    HTTPException: 401 Unauthorized - 用户名或密码错误\n    HTTPException: 403 Forbidden - 必须修改密码",
        "operationId": "login_for_access_token_api_auth_token_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_login_for_access_token_api_auth_token_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Login",
        "description": "用户名密码登录，获取访问令牌\n\nArgs:\n    login_data: 登录请求数据\n    db: 数据库会话\n    \nReturns:\n    TokenResponse: 包含访问令牌、刷新令牌和用户信息的响应\n    \nRaises:\n    HTTPException: 401 Unauthorized - 用户名或密码错误",
        "operationId": "login_api_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/refresh": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Refresh Access Token",
        "description": "使用刷新令牌获取新的访问令牌\n\nArgs:\n    refresh_data: 刷新令牌请求数据\n    db: 数据库会话\n    \nReturns:\n    TokenResponse: 包含新的访问令牌、刷新令牌和用户信息的响应\n    \nRaises:\n    HTTPException: 401 Unauthorized - 刷新令牌无效",
        "operationId": "refresh_access_token_api_auth_refresh_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshTokenRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/wechat/authorize": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Wechat Authorize",
        "description": "生成微信登录授权URL\n\nArgs:\n    redirect_uri: 自定义重定向URI，可选\n    \nReturns:\n    dict: 包含微信授权URL的响应",
        "operationId": "wechat_authorize_api_auth_wechat_authorize_get",
        "parameters": [
          {
            "name": "redirect_uri",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Redirect Uri"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/wechat/callback": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Wechat Callback",
        "description": "微信授权回调处理\n\nArgs:\n    code: 微信授权码\n    state: 状态参数\n    db: 数据库会话\n    \nReturns:\n    dict: 包含登录结果的响应",
        "operationId": "wechat_callback_api_auth_wechat_callback_get",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Code"
            }
          },
          {
            "name": "state",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "State"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/wechat/login": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Wechat App Login",
        "description": "微信小程序登录\n\nArgs:\n    login_data: 微信登录请求数据\n    db: 数据库会话\n    \nReturns:\n    TokenResponse: 包含访问令牌、刷新令牌和用户信息的响应\n    \nRaises:\n    HTTPException: 400 Bad Request - 微信登录失败",
        "operationId": "wechat_app_login_api_auth_wechat_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WechatLoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TokenResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/me": {
      "get": {
        "tags": [
          "auth"
        ],
        "summary": "Get Current User Info",
        "description": "获取当前用户信息\n\nArgs:\n    current_user: 当前认证用户，通过依赖注入自动获取\n    \nReturns:\n    UserResponse: 当前用户信息\n    \nRaises:\n    HTTPException: 401 Unauthorized - 用户未认证\n    HTTPException: 400 Bad Request - 用户未激活",
        "operationId": "get_current_user_info_api_auth_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/users/users": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get Users",
        "description": "获取用户列表，支持搜索和筛选\n\nArgs:\n    username: 用户名搜索（模糊匹配）\n    nickname: 昵称搜索（模糊匹配）\n    role_id: 角色ID筛选\n    status: 用户状态筛选\n    page: 页码\n    page_size: 每页数量\n    current_user: 当前管理员用户\n    db: 数据库会话\n    \nReturns:\n    UserListResponse: 用户列表响应",
        "operationId": "get_users_api_users_users_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "username",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "用户名搜索",
              "title": "Username"
            },
            "description": "用户名搜索"
          },
          {
            "name": "nickname",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "昵称搜索",
              "title": "Nickname"
            },
            "description": "昵称搜索"
          },
          {
            "name": "role_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "角色ID筛选",
              "title": "Role Id"
            },
            "description": "角色ID筛选"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "用户状态筛选",
              "title": "Status"
            },
            "description": "用户状态筛选"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "页码",
              "default": 1,
              "title": "Page"
            },
            "description": "页码"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "每页数量",
              "default": 50,
              "title": "Page Size"
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Create User",
        "description": "创建新用户\n\nArgs:\n    user_data: 用户创建数据\n    current_user: 当前管理员用户\n    db: 数据库会话\n    \nReturns:\n    UserResponse: 新创建的用户信息\n    \nRaises:\n    HTTPException: 400 Bad Request - 用户名已存在",
        "operationId": "create_user_api_users_users_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/me": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get Current User",
        "description": "获取当前登录用户信息\n\nArgs:\n    current_user: 当前活跃用户\n    db: 数据库会话\n    \nReturns:\n    UserResponse: 当前用户信息",
        "operationId": "get_current_user_api_users_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/users/users/{user_id}": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get User",
        "description": "获取指定用户信息\n\nArgs:\n    user_id: 用户ID\n    current_user: 当前管理员用户\n    db: 数据库会话\n    \nReturns:\n    UserResponse: 用户信息\n    \nRaises:\n    HTTPException: 404 Not Found - 用户不存在",
        "operationId": "get_user_api_users_users__user_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "users"
        ],
        "summary": "Update User",
        "description": "更新用户信息\n\nArgs:\n    user_id: 用户ID\n    user_data: 用户更新数据\n    current_user: 当前管理员用户\n    db: 数据库会话\n    \nReturns:\n    UserResponse: 更新后的用户信息\n    \nRaises:\n    HTTPException: 404 Not Found - 用户不存在\n    HTTPException: 400 Bad Request - 手机号已被使用",
        "operationId": "update_user_api_users_users__user_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "Delete User",
        "description": "删除用户\n\nArgs:\n    user_id: 用户ID\n    current_user: 当前管理员用户\n    db: 数据库会话\n    \nReturns:\n    dict: 删除结果\n    \nRaises:\n    HTTPException: 404 Not Found - 用户不存在\n    HTTPException: 400 Bad Request - 不能删除自己",
        "operationId": "delete_user_api_users_users__user_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/users/{user_id}/reset-password": {
      "put": {
        "tags": [
          "users"
        ],
        "summary": "Reset User Password",
        "description": "重置用户密码\n\nArgs:\n    user_id: 用户ID\n    password_data: 密码重置请求数据\n    current_user: 当前管理员用户\n    db: 数据库会话\n    \nReturns:\n    dict: 重置结果\n    \nRaises:\n    HTTPException: 404 Not Found - 用户不存在\n    HTTPException: 400 Bad Request - 密码不符合强度要求",
        "operationId": "reset_user_password_api_users_users__user_id__reset_password_put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordResetRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/users/change-password": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Change Password",
        "description": "修改当前用户密码\n\nArgs:\n    password_data: 密码修改数据\n    current_user: 当前活跃用户\n    db: 数据库会话\n    \nReturns:\n    dict: 修改结果\n    \nRaises:\n    HTTPException: 400 Bad Request - 当前密码错误",
        "operationId": "change_password_api_users_users_change_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PasswordChange"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/users/roles": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get Roles",
        "description": "获取角色列表，支持搜索和筛选\n\nArgs:\n    name: 角色名称搜索（模糊匹配）\n    code: 角色代码搜索（模糊匹配）\n    is_active: 是否激活筛选\n    page: 页码\n    page_size: 每页数量\n    current_user: 当前管理员用户\n    db: 数据库会话\n    \nReturns:\n    RoleListResponse: 角色列表响应",
        "operationId": "get_roles_api_users_roles_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "角色名称搜索",
              "title": "Name"
            },
            "description": "角色名称搜索"
          },
          {
            "name": "code",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "角色代码搜索",
              "title": "Code"
            },
            "description": "角色代码搜索"
          },
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "是否激活筛选",
              "title": "Is Active"
            },
            "description": "是否激活筛选"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "页码",
              "default": 1,
              "title": "Page"
            },
            "description": "页码"
          },
          {
            "name": "page_size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "description": "每页数量",
              "default": 50,
              "title": "Page Size"
            },
            "description": "每页数量"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Create Role",
        "description": "创建新角色\n\nArgs:\n    role_data: 角色创建数据\n    current_user: 当前管理员用户\n    db: 数据库会话\n    \nReturns:\n    RoleResponse: 新创建的角色信息\n    \nRaises:\n    HTTPException: 400 Bad Request - 角色名称或代码已存在",
        "operationId": "create_role_api_users_roles_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoleCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/roles/{role_id}": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get Role",
        "description": "获取指定角色信息\n\nArgs:\n    role_id: 角色ID\n    current_user: 当前管理员用户\n    db: 数据库会话\n    \nReturns:\n    RoleResponse: 角色信息\n    \nRaises:\n    HTTPException: 404 Not Found - 角色不存在",
        "operationId": "get_role_api_users_roles__role_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Role Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "users"
        ],
        "summary": "Update Role",
        "description": "更新角色信息\n\nArgs:\n    role_id: 角色ID\n    role_data: 角色更新数据\n    current_user: 当前管理员用户\n    db: 数据库会话\n    \nReturns:\n    RoleResponse: 更新后的角色信息\n    \nRaises:\n    HTTPException: 404 Not Found - 角色不存在\n    HTTPException: 400 Bad Request - 角色名称或代码已存在",
        "operationId": "update_role_api_users_roles__role_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Role Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RoleUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "Delete Role",
        "description": "删除角色\n\nArgs:\n    role_id: 角色ID\n    current_user: 当前管理员用户\n    db: 数据库会话\n    \nReturns:\n    dict: 删除结果\n    \nRaises:\n    HTTPException: 404 Not Found - 角色不存在\n    HTTPException: 400 Bad Request - 角色下存在用户，无法删除",
        "operationId": "delete_role_api_users_roles__role_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "role_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Role Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/init-data": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Init System Data",
        "description": "初始化系统数据，包括默认角色和管理员用户\n\n首次部署时调用此接口创建初始数据。\n系统会创建默认角色和一个临时管理员账户。\n\nArgs:\n    db: 数据库会话\n    \nReturns:\n    dict: 初始化结果，包含临时管理员密码\n    \nSecurity:\n    - 此接口仅在系统未初始化时可调用\n    - 临时密码仅显示一次，请妥善保存\n    - 首次登录必须修改密码",
        "operationId": "init_system_data_api_users_init_data_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Body_login_for_access_token_api_auth_token_post": {
        "properties": {
          "grant_type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^password$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Grant Type"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "format": "password",
            "title": "Password"
          },
          "scope": {
            "type": "string",
            "title": "Scope",
            "default": ""
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "client_secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "format": "password",
            "title": "Client Secret"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_login_for_access_token_api_auth_token_post"
      },
      "Body_upload_csv_api_upload_csv_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File",
            "description": "CSV 文件"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_csv_api_upload_csv_post"
      },
      "Body_upload_file_api_v1_files_upload_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_file_api_v1_files_upload_post"
      },
      "CashFlowCategory": {
        "type": "string",
        "enum": [
          "履约保证金",
          "中介佣金",
          "装修费",
          "营销费",
          "其他支出",
          "税费",
          "运营杂费",
          "回收保证金",
          "溢价款",
          "服务费",
          "其他收入",
          "售房款"
        ],
        "title": "CashFlowCategory",
        "description": "现金流分类枚举"
      },
      "CashFlowRecordCreate": {
        "properties": {
          "type": {
            "$ref": "#/components/schemas/CashFlowType",
            "description": "类型：income/expense"
          },
          "category": {
            "$ref": "#/components/schemas/CashFlowCategory",
            "description": "分类"
          },
          "amount": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              }
            ],
            "title": "Amount",
            "description": "金额"
          },
          "date": {
            "type": "string",
            "format": "date-time",
            "title": "Date",
            "description": "日期"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "描述"
          },
          "related_stage": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Related Stage",
            "description": "关联阶段"
          }
        },
        "type": "object",
        "required": [
          "type",
          "category",
          "amount",
          "date"
        ],
        "title": "CashFlowRecordCreate",
        "description": "创建现金流记录请求模型"
      },
      "CashFlowType": {
        "type": "string",
        "enum": [
          "income",
          "expense"
        ],
        "title": "CashFlowType",
        "description": "现金流类型枚举"
      },
      "CommunityListResponse": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/CommunityResponse"
            },
            "type": "array",
            "title": "Items"
          }
        },
        "type": "object",
        "required": [
          "total",
          "items"
        ],
        "title": "CommunityListResponse",
        "description": "小区列表响应"
      },
      "CommunityMergeRequest": {
        "properties": {
          "primary_id": {
            "type": "integer",
            "title": "Primary Id",
            "description": "主小区ID"
          },
          "merge_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "minItems": 1,
            "title": "Merge Ids",
            "description": "要合并的小区ID列表"
          }
        },
        "type": "object",
        "required": [
          "primary_id",
          "merge_ids"
        ],
        "title": "CommunityMergeRequest",
        "description": "小区合并请求"
      },
      "CommunityMergeResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "affected_properties": {
            "type": "integer",
            "title": "Affected Properties"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "affected_properties",
          "message"
        ],
        "title": "CommunityMergeResponse",
        "description": "小区合并响应"
      },
      "CommunityResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "city_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "City Id"
          },
          "district": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "District"
          },
          "business_circle": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Circle"
          },
          "avg_price_wan": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avg Price Wan"
          },
          "total_properties": {
            "type": "integer",
            "title": "Total Properties"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "total_properties",
          "created_at"
        ],
        "title": "CommunityResponse",
        "description": "小区响应模型"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "LoginRequest": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username",
            "description": "用户名"
          },
          "password": {
            "type": "string",
            "title": "Password",
            "description": "密码"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "LoginRequest",
        "description": "登录请求模型"
      },
      "PaginatedPropertyResponse": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "page": {
            "type": "integer",
            "title": "Page"
          },
          "page_size": {
            "type": "integer",
            "title": "Page Size"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/PropertyResponse"
            },
            "type": "array",
            "title": "Items"
          }
        },
        "type": "object",
        "required": [
          "total",
          "page",
          "page_size",
          "items"
        ],
        "title": "PaginatedPropertyResponse",
        "description": "分页房源列表响应"
      },
      "PasswordChange": {
        "properties": {
          "current_password": {
            "type": "string",
            "title": "Current Password",
            "description": "当前密码"
          },
          "new_password": {
            "type": "string",
            "maxLength": 255,
            "minLength": 8,
            "title": "New Password",
            "description": "新密码"
          }
        },
        "type": "object",
        "required": [
          "current_password",
          "new_password"
        ],
        "title": "PasswordChange",
        "description": "密码修改模型"
      },
      "PasswordResetRequest": {
        "properties": {
          "password": {
            "type": "string",
            "maxLength": 255,
            "minLength": 8,
            "title": "Password",
            "description": "新密码"
          }
        },
        "type": "object",
        "required": [
          "password"
        ],
        "title": "PasswordResetRequest",
        "description": "密码重置请求模型"
      },
      "ProjectCompleteRequest": {
        "properties": {
          "sold_price": {
            "anyOf": [
              {
                "type": "number",
                "exclusiveMinimum": 0
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              }
            ],
            "title": "Sold Price",
            "description": "售价"
          },
          "sold_date": {
            "type": "string",
            "format": "date-time",
            "title": "Sold Date",
            "description": "售出日期"
          }
        },
        "type": "object",
        "required": [
          "sold_price",
          "sold_date"
        ],
        "title": "ProjectCompleteRequest",
        "description": "项目完成请求模型"
      },
      "ProjectCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name",
            "description": "项目名称"
          },
          "community_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Community Name",
            "description": "小区名称"
          },
          "address": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Address",
            "description": "物业地址"
          },
          "manager": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Manager",
            "description": "负责人"
          },
          "signing_price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signing Price",
            "description": "签约价格"
          },
          "signing_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signing Date",
            "description": "签约日期"
          },
          "signing_period": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signing Period",
            "description": "签约周期"
          },
          "planned_handover_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Planned Handover Date",
            "description": "计划交房时间"
          },
          "signing_materials": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signing Materials",
            "description": "签约材料"
          },
          "owner_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Owner Name",
            "description": "业主姓名"
          },
          "owner_phone": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Owner Phone",
            "description": "业主电话"
          },
          "owner_id_card": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 18
              },
              {
                "type": "null"
              }
            ],
            "title": "Owner Id Card",
            "description": "业主身份证号"
          },
          "owner_info": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Owner Info",
            "description": "业主其他信息"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "备注"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "标签"
          },
          "area": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Area",
            "description": "产证面积(m²)"
          },
          "extensionPeriod": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extensionperiod",
            "description": "顺延期(月)"
          },
          "extensionRent": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extensionrent",
            "description": "顺延期租金(元/月)"
          },
          "costAssumption": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Costassumption",
            "description": "税费及佣金承担"
          },
          "otherAgreements": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Otheragreements",
            "description": "其他约定"
          },
          "remarks": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Remarks",
            "description": "备注"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "ProjectCreate",
        "description": "创建项目请求模型"
      },
      "ProjectStatus": {
        "type": "string",
        "enum": [
          "signing",
          "renovating",
          "selling",
          "sold"
        ],
        "title": "ProjectStatus",
        "description": "项目主状态枚举"
      },
      "ProjectUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "项目名称"
          },
          "community_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Community Name",
            "description": "小区名称"
          },
          "address": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Address",
            "description": "物业地址"
          },
          "manager": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Manager",
            "description": "负责人"
          },
          "signing_price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signing Price",
            "description": "签约价格"
          },
          "signing_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signing Date",
            "description": "签约日期"
          },
          "signing_period": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signing Period",
            "description": "签约周期"
          },
          "planned_handover_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Planned Handover Date",
            "description": "计划交房时间"
          },
          "signing_materials": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Signing Materials",
            "description": "签约材料"
          },
          "owner_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Owner Name",
            "description": "业主姓名"
          },
          "owner_phone": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Owner Phone",
            "description": "业主电话"
          },
          "owner_id_card": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 18
              },
              {
                "type": "null"
              }
            ],
            "title": "Owner Id Card",
            "description": "业主身份证号"
          },
          "owner_info": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Owner Info",
            "description": "业主其他信息"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "备注"
          },
          "tags": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tags",
            "description": "标签"
          },
          "area": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Area",
            "description": "产证面积(m²)"
          },
          "extensionPeriod": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extensionperiod",
            "description": "顺延期(月)"
          },
          "extensionRent": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extensionrent",
            "description": "顺延期租金(元/月)"
          },
          "costAssumption": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Costassumption",
            "description": "税费及佣金承担"
          },
          "otherAgreements": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Otheragreements",
            "description": "其他约定"
          },
          "remarks": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Remarks",
            "description": "备注"
          },
          "channelManager": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Channelmanager",
            "description": "渠道负责人"
          },
          "presenter": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Presenter",
            "description": "讲房师"
          },
          "negotiator": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Negotiator",
            "description": "联卖谈判"
          },
          "viewingRecords": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Viewingrecords",
            "description": "带看记录"
          },
          "offerRecords": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Offerrecords",
            "description": "出价记录"
          },
          "negotiationRecords": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Negotiationrecords",
            "description": "面谈记录"
          },
          "soldPrice": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Soldprice",
            "description": "成交价格"
          },
          "soldDate": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Solddate",
            "description": "成交日期"
          },
          "property_agent": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Property Agent",
            "description": "房源维护人"
          },
          "client_agent": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Agent",
            "description": "客源维护人"
          },
          "first_viewer": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "First Viewer",
            "description": "首看人"
          },
          "list_price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "List Price",
            "description": "挂牌价"
          },
          "renovationStageDates": {
            "anyOf": [
              {
                "additionalProperties": {
                  "type": "string"
                },
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Renovationstagedates",
            "description": "改造阶段完成时间"
          }
        },
        "type": "object",
        "title": "ProjectUpdate",
        "description": "更新项目请求模型"
      },
      "PropertyDetailResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "data_source": {
            "type": "string",
            "title": "Data Source"
          },
          "source_property_id": {
            "type": "string",
            "title": "Source Property Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "community_id": {
            "type": "integer",
            "title": "Community Id"
          },
          "community_name": {
            "type": "string",
            "title": "Community Name"
          },
          "district": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "District"
          },
          "business_circle": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Circle"
          },
          "rooms": {
            "type": "integer",
            "title": "Rooms"
          },
          "halls": {
            "type": "integer",
            "title": "Halls"
          },
          "baths": {
            "type": "integer",
            "title": "Baths"
          },
          "layout_display": {
            "type": "string",
            "title": "Layout Display"
          },
          "orientation": {
            "type": "string",
            "title": "Orientation"
          },
          "floor_original": {
            "type": "string",
            "title": "Floor Original"
          },
          "floor_display": {
            "type": "string",
            "title": "Floor Display"
          },
          "floor_number": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Floor Number"
          },
          "total_floors": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Floors"
          },
          "floor_level": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Floor Level"
          },
          "build_area": {
            "type": "number",
            "title": "Build Area"
          },
          "inner_area": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inner Area"
          },
          "listed_price_wan": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Listed Price Wan"
          },
          "sold_price_wan": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sold Price Wan"
          },
          "unit_price": {
            "type": "number",
            "title": "Unit Price"
          },
          "transaction_duration_display": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transaction Duration Display"
          },
          "discount_rate_display": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Discount Rate Display"
          },
          "listed_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Listed Date"
          },
          "sold_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sold Date"
          },
          "transaction_duration_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transaction Duration Days"
          },
          "property_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Property Type"
          },
          "build_year": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Build Year"
          },
          "building_structure": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Building Structure"
          },
          "decoration": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Decoration"
          },
          "elevator": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Elevator"
          },
          "ownership_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ownership Type"
          },
          "ownership_years": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Ownership Years"
          },
          "last_transaction": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Transaction"
          },
          "heating_method": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Heating Method"
          },
          "listing_remarks": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Listing Remarks"
          },
          "picture_links": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Picture Links"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "data_source",
          "source_property_id",
          "status",
          "community_id",
          "community_name",
          "rooms",
          "halls",
          "baths",
          "layout_display",
          "orientation",
          "floor_original",
          "floor_display",
          "build_area",
          "unit_price",
          "created_at",
          "updated_at"
        ],
        "title": "PropertyDetailResponse",
        "description": "房源详情响应模型，包含所有字段"
      },
      "PropertyResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "data_source": {
            "type": "string",
            "title": "Data Source"
          },
          "source_property_id": {
            "type": "string",
            "title": "Source Property Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "community_id": {
            "type": "integer",
            "title": "Community Id"
          },
          "community_name": {
            "type": "string",
            "title": "Community Name"
          },
          "district": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "District"
          },
          "business_circle": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Business Circle"
          },
          "rooms": {
            "type": "integer",
            "title": "Rooms"
          },
          "halls": {
            "type": "integer",
            "title": "Halls"
          },
          "baths": {
            "type": "integer",
            "title": "Baths"
          },
          "layout_display": {
            "type": "string",
            "title": "Layout Display"
          },
          "orientation": {
            "type": "string",
            "title": "Orientation"
          },
          "floor_display": {
            "type": "string",
            "title": "Floor Display"
          },
          "floor_level": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Floor Level"
          },
          "build_area": {
            "type": "number",
            "title": "Build Area"
          },
          "inner_area": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inner Area"
          },
          "total_price": {
            "type": "number",
            "title": "Total Price"
          },
          "unit_price": {
            "type": "number",
            "title": "Unit Price"
          },
          "listed_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Listed Date"
          },
          "sold_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sold Date"
          },
          "transaction_duration_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transaction Duration Days"
          },
          "property_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Property Type"
          },
          "build_year": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Build Year"
          },
          "decoration": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Decoration"
          },
          "elevator": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Elevator"
          },
          "picture_links": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Picture Links"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "data_source",
          "source_property_id",
          "status",
          "community_id",
          "community_name",
          "rooms",
          "halls",
          "baths",
          "layout_display",
          "orientation",
          "floor_display",
          "build_area",
          "total_price",
          "unit_price",
          "created_at",
          "updated_at"
        ],
        "title": "PropertyResponse",
        "description": "房源列表响应模型，包含计算字段"
      },
      "PushResult": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "总记录数"
          },
          "success": {
            "type": "integer",
            "title": "Success",
            "description": "成功导入数"
          },
          "failed": {
            "type": "integer",
            "title": "Failed",
            "description": "失败记录数"
          },
          "errors": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Errors",
            "description": "错误详情列表"
          }
        },
        "type": "object",
        "required": [
          "total",
          "success",
          "failed"
        ],
        "title": "PushResult",
        "description": "JSON推送结果"
      },
      "RecordType": {
        "type": "string",
        "enum": [
          "viewing",
          "offer",
          "negotiation"
        ],
        "title": "RecordType",
        "description": "销售记录类型枚举"
      },
      "RefreshTokenRequest": {
        "properties": {
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token",
            "description": "刷新令牌"
          }
        },
        "type": "object",
        "required": [
          "refresh_token"
        ],
        "title": "RefreshTokenRequest",
        "description": "刷新令牌请求模型"
      },
      "RenovationStage": {
        "type": "string",
        "enum": [
          "拆除",
          "设计",
          "水电",
          "木瓦",
          "油漆",
          "安装",
          "交付"
        ],
        "title": "RenovationStage",
        "description": "改造子阶段枚举"
      },
      "RenovationUpdate": {
        "properties": {
          "renovation_stage": {
            "$ref": "#/components/schemas/RenovationStage",
            "description": "改造子阶段"
          },
          "stage_completed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Stage Completed At",
            "description": "阶段完成时间"
          }
        },
        "type": "object",
        "required": [
          "renovation_stage"
        ],
        "title": "RenovationUpdate",
        "description": "更新改造阶段请求模型"
      },
      "RoleCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 2,
            "title": "Name",
            "description": "角色名称"
          },
          "code": {
            "type": "string",
            "maxLength": 50,
            "minLength": 2,
            "title": "Code",
            "description": "角色代码"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "角色描述"
          },
          "permissions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Permissions",
            "description": "权限列表"
          }
        },
        "type": "object",
        "required": [
          "name",
          "code"
        ],
        "title": "RoleCreate",
        "description": "角色创建模型"
      },
      "RoleListResponse": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "总数量"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/RoleResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "角色列表"
          }
        },
        "type": "object",
        "required": [
          "total",
          "items"
        ],
        "title": "RoleListResponse",
        "description": "角色列表响应模型"
      },
      "RoleResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 2,
            "title": "Name",
            "description": "角色名称"
          },
          "code": {
            "type": "string",
            "maxLength": 50,
            "minLength": 2,
            "title": "Code",
            "description": "角色代码"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "角色描述"
          },
          "permissions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Permissions",
            "description": "权限列表"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "角色ID"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "是否激活"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "创建时间"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "更新时间"
          }
        },
        "type": "object",
        "required": [
          "name",
          "code",
          "id",
          "is_active",
          "created_at",
          "updated_at"
        ],
        "title": "RoleResponse",
        "description": "角色响应模型"
      },
      "RoleUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 2
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "角色名称"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "角色描述"
          },
          "permissions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Permissions",
            "description": "权限列表"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "description": "是否激活"
          }
        },
        "type": "object",
        "title": "RoleUpdate",
        "description": "角色更新模型"
      },
      "SalesRecordCreate": {
        "properties": {
          "record_type": {
            "$ref": "#/components/schemas/RecordType",
            "description": "记录类型"
          },
          "customer_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Name",
            "description": "客户姓名"
          },
          "customer_phone": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Phone",
            "description": "客户电话"
          },
          "customer_info": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Customer Info",
            "description": "客户其他信息"
          },
          "record_date": {
            "type": "string",
            "format": "date-time",
            "title": "Record Date",
            "description": "记录日期"
          },
          "record_time": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Record Time",
            "description": "记录时间"
          },
          "price": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string",
                "pattern": "^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Price",
            "description": "出价/售价"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "备注"
          },
          "feedback": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Feedback",
            "description": "反馈"
          },
          "result": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Result",
            "description": "结果"
          },
          "related_agent": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Related Agent",
            "description": "相关经纪人"
          }
        },
        "type": "object",
        "required": [
          "record_type",
          "record_date"
        ],
        "title": "SalesRecordCreate",
        "description": "创建销售记录请求模型"
      },
      "SalesRolesUpdate": {
        "properties": {
          "property_agent": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Property Agent",
            "description": "房源维护人"
          },
          "client_agent": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Agent",
            "description": "客源维护人"
          },
          "first_viewer": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "First Viewer",
            "description": "首看人"
          }
        },
        "type": "object",
        "title": "SalesRolesUpdate",
        "description": "更新销售角色请求模型"
      },
      "StatusUpdate": {
        "properties": {
          "status": {
            "$ref": "#/components/schemas/ProjectStatus",
            "description": "目标状态"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "StatusUpdate",
        "description": "状态更新请求模型"
      },
      "TokenResponse": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token",
            "description": "访问令牌"
          },
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token",
            "description": "刷新令牌"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "description": "令牌类型"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In",
            "description": "访问令牌过期时间(秒)"
          },
          "user": {
            "$ref": "#/components/schemas/UserResponse",
            "description": "用户信息"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "refresh_token",
          "token_type",
          "expires_in",
          "user"
        ],
        "title": "TokenResponse",
        "description": "令牌响应模型"
      },
      "UploadResult": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "总记录数"
          },
          "success": {
            "type": "integer",
            "title": "Success",
            "description": "成功导入数"
          },
          "failed": {
            "type": "integer",
            "title": "Failed",
            "description": "失败记录数"
          },
          "failed_file_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Failed File Url",
            "description": "失败记录CSV下载链接"
          }
        },
        "type": "object",
        "required": [
          "total",
          "success",
          "failed"
        ],
        "title": "UploadResult",
        "description": "CSV上传结果"
      },
      "UserCreate": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 100,
            "minLength": 3,
            "title": "Username",
            "description": "用户名"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "昵称"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone",
            "description": "手机号"
          },
          "avatar": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar",
            "description": "头像"
          },
          "password": {
            "type": "string",
            "maxLength": 255,
            "minLength": 6,
            "title": "Password",
            "description": "密码"
          },
          "role_id": {
            "type": "string",
            "title": "Role Id",
            "description": "角色ID"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password",
          "role_id"
        ],
        "title": "UserCreate",
        "description": "用户创建模型"
      },
      "UserListResponse": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "总数量"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/UserResponse"
            },
            "type": "array",
            "title": "Items",
            "description": "用户列表"
          }
        },
        "type": "object",
        "required": [
          "total",
          "items"
        ],
        "title": "UserListResponse",
        "description": "用户列表响应模型"
      },
      "UserResponse": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 100,
            "minLength": 3,
            "title": "Username",
            "description": "用户名"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "昵称"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone",
            "description": "手机号"
          },
          "avatar": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar",
            "description": "头像"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "用户ID"
          },
          "role_id": {
            "type": "string",
            "title": "Role Id",
            "description": "角色ID"
          },
          "role": {
            "$ref": "#/components/schemas/RoleResponse",
            "description": "角色信息"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "用户状态"
          },
          "last_login_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Login At",
            "description": "最后登录时间"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "创建时间"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "更新时间"
          }
        },
        "type": "object",
        "required": [
          "username",
          "id",
          "role_id",
          "role",
          "status",
          "created_at",
          "updated_at"
        ],
        "title": "UserResponse",
        "description": "用户响应模型"
      },
      "UserUpdate": {
        "properties": {
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "昵称"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone",
            "description": "手机号"
          },
          "avatar": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar",
            "description": "头像"
          },
          "role_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Role Id",
            "description": "角色ID"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "用户状态"
          }
        },
        "type": "object",
        "title": "UserUpdate",
        "description": "用户更新模型"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "WechatLoginRequest": {
        "properties": {
          "code": {
            "type": "string",
            "title": "Code",
            "description": "微信授权码"
          }
        },
        "type": "object",
        "required": [
          "code"
        ],
        "title": "WechatLoginRequest",
        "description": "微信登录请求模型"
      }
    },
    "securitySchemes": {
      "OAuth2PasswordBearer": {
        "type": "oauth2",
        "flows": {
          "password": {
            "scopes": {

            },
            "tokenUrl": "/api/auth/token"
          }
        }
      }
    }
  }
}